spring.application.name=gallery
server.port=8080
image.folder=C:/gallery
music.folder=C:/gallery_music
spring.thymeleaf.cache=false
server.max-http-request-header-size=1048576
server.tomcat.max-http-header-size=1048576
server.tomcat.max-http-form-post-size=10485760

# ===== CONNECTION TIMEOUT SETTINGS =====
# Prevent connection drops when using from remote computers
# Increased to 1 hour (3600 seconds = 3,600,000 ms)
server.tomcat.connection-timeout=3600000

# Keep-alive settings for long-running connections
server.tomcat.keep-alive-timeout=600000
server.tomcat.max-keep-alive-requests=1000

# Session timeout - 2 hours
server.servlet.session.timeout=120m

# H2 Database Configuration
spring.datasource.url=jdbc:h2:file:./data/stationdb;MODE=MySQL;AUTO_SERVER=TRUE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA Configuration for H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# H2 specific settings
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=15
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Connection pool settings - H2 handles concurrency well
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000

# ===== AWS SNS CONFIGURATION (OPTIONAL) =====
# Set to true to enable AWS SNS for email/SMS notifications
# Default: false (uses STUB mode - logs only, no actual sending)
aws.sns.enabled=false

# AWS Region (only used if aws.sns.enabled=true)
aws.sns.region=ap-southeast-2

# AWS SNS Topic ARN for email (only used if aws.sns.enabled=true)
# Create this in AWS SNS Console and paste the ARN here
# Example: arn:aws:sns:ap-southeast-2:123456789012:gallery-notifications
aws.sns.email.topic.arn=arn:aws:sns:ap-southeast-2:856484048167:sang-and-sherm-station-notifications

# ===== MEMORIES CONFIGURATION =====
# Enable/disable automatic indexing
memories.auto-index.enabled=false
# When to run (default: 2 AM daily)
memories.auto-index.cron=0 0 2 * * *
# Enable/disable memories notifications
memories.notifications.enabled=true
# Number of images to load per batch in memories modal (lazy loading)
memories.batch-size=12
# Thumbnail size for grid display (pixels)
memories.thumbnail-size=400
# Thumbnail JPEG quality (0-100, higher = better quality but larger file)
memories.thumbnail-quality=85

# ===== VIDEO SUPPORT (Phase 1) =====
# Supported video formats (comma-separated extensions)
media.video.formats=mp4,mov,avi,mkv,webm,m4v,wmv
# Enable video thumbnail generation
media.video.thumbnails.enabled=true
# Frame time for video thumbnail extraction (seconds into video)
media.video.thumbnails.frame-time=3
